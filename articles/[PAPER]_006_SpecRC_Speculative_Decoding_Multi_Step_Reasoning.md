# SpecRC: Accelerating Multi-Step Reasoning with Speculative Decoding

## ğŸ“Œ å…ƒæ•°æ®

- **æ¥æº**: https://arxiv.org/pdf/2601.06966
- **ä½œè€…**: Shengjie Luo, Tianhe Yu, Zhe Feng, et al.
- **æ—¥æœŸ**: 2026-01-14 (arXiv)
- **é˜…è¯»æ—¥æœŸ**: 2025-02-01
- **åˆ†ç±»**: `LLM.EVAL`
- **æ ‡ç­¾**: #SpeculativeDecoding #MultiStepReasoning #DraftVerify #SpeedUp #CoT #MathReasoning

---

## ğŸ“– æ–‡ç« æ¦‚è¿°

è¿™ç¯‡è®ºæ–‡æå‡ºäº† **SpecRCï¼ˆSpeculative Reasoning Chainsï¼‰**ï¼Œä¸€ä¸ªå°†æŠ•æœºè§£ç åº”ç”¨äºå¤šæ­¥æ¨ç†ä»»åŠ¡çš„æ¡†æ¶ã€‚ä¼ ç»ŸæŠ•æœºè§£ç ä¸»è¦ç”¨äºæ–‡æœ¬ç”Ÿæˆï¼Œè€Œ SpecRC å°†å…¶æ‰©å±•åˆ°**æ¨ç†é“¾ï¼ˆChain-of-Thoughtï¼‰**çš„åŠ é€Ÿã€‚

**æ ¸å¿ƒæ€æƒ³**ï¼šä½¿ç”¨å°æ¨¡å‹å¿«é€Ÿç”Ÿæˆå¤šä¸ªæ¨ç†æ­¥éª¤ï¼ˆdraftï¼‰ï¼Œç„¶åç”¨å¤§æ¨¡å‹éªŒè¯ï¼ˆverifyï¼‰ï¼Œå¦‚æœéªŒè¯é€šè¿‡åˆ™æ¥å—ï¼Œå¦åˆ™ç”¨å¤§æ¨¡å‹é‡æ–°ç”Ÿæˆã€‚è¿™ç§æ–¹æ³•åœ¨æ•°å­¦æ¨ç†ä»»åŠ¡ä¸Šå®ç°äº†æ˜¾è‘—çš„åŠ é€Ÿï¼ŒåŒæ—¶ä¿æŒæˆ–æå‡äº†å‡†ç¡®æ€§ã€‚

---

## ğŸ¯ æ ¸å¿ƒå†…å®¹

### ä¸»è¦è§‚ç‚¹

1. **å¤šæ­¥æ¨ç†çš„ç“¶é¢ˆ**
   - **CoT æˆæœ¬é«˜**ï¼šæ¯ä¸ªæ¨ç†æ­¥éª¤éƒ½éœ€è¦å¤§æ¨¡å‹ç”Ÿæˆ
   - **é¡ºåºä¾èµ–**ï¼šæ¨ç†æ­¥éª¤å¿…é¡»ä¾æ¬¡ç”Ÿæˆ
   - **æ—¶é—´é•¿**ï¼šå¤æ‚æ¨ç†éœ€è¦å¤§é‡æ—¶é—´

2. **æŠ•æœºè§£ç çš„æ‰©å±•**
   - **ä¼ ç»ŸæŠ•æœºè§£ç **ï¼šç”¨äºæ–‡æœ¬ç”Ÿæˆçš„åŠ é€Ÿ
   - **SpecRC**ï¼šé¦–æ¬¡å°†å…¶åº”ç”¨äºæ¨ç†é“¾åŠ é€Ÿ
   - **æ ¸å¿ƒæŒ‘æˆ˜**ï¼šæ¨ç†æ­¥éª¤æœ‰é€»è¾‘ä¾èµ–ï¼Œå¦‚ä½•ä¿è¯æ­£ç¡®æ€§ï¼Ÿ

3. **Draft-Verify æœºåˆ¶**
   - **Draft æ¨¡å‹**ï¼ˆå°æ¨¡å‹ï¼‰ï¼šå¿«é€Ÿç”Ÿæˆå¤šä¸ªæ¨ç†æ­¥éª¤
   - **Verify æ¨¡å‹**ï¼ˆå¤§æ¨¡å‹ï¼‰ï¼šéªŒè¯æ¨ç†çš„æ­£ç¡®æ€§
   - **æ¥å—/æ‹’ç»**ï¼šéªŒè¯é€šè¿‡åˆ™æ¥å—ï¼Œå¦åˆ™é‡æ–°ç”Ÿæˆ

### æŠ€æœ¯è¦ç‚¹

#### SpecRC æ¡†æ¶

**ä¼ ç»Ÿ CoT æ¨ç†**:
```
é—®é¢˜ â†’ [æ­¥éª¤1] â†’ [æ­¥éª¤2] â†’ [æ­¥éª¤3] â†’ ... â†’ ç­”æ¡ˆ
        â†‘ æ¯æ­¥éƒ½ç”¨å¤§æ¨¡å‹ï¼Œæ…¢
```

**SpecRC æ¨ç†**:
```
é—®é¢˜ â†’ [Draft: æ­¥éª¤1-3] â†’ [Verify] â†’ æ¥å—/æ‹’ç»
       â†“ å°æ¨¡å‹å¿«         â†“ å¤§æ¨¡å‹éªŒè¯
       å¦‚æœæ‹’ç» â†’ å¤§æ¨¡å‹é‡æ–°ç”Ÿæˆ
```

#### Draft ç­–ç•¥

**Draft æ¨¡å‹é€‰æ‹©**:
- ä½¿ç”¨æ¯”ä¸»æ¨¡å‹å°å¾—å¤šçš„æ¨¡å‹
- å¯ä»¥æ˜¯ç›¸åŒæ¶æ„çš„å°ç‰ˆæœ¬
- æˆ–è€…è’¸é¦å¾—åˆ°çš„å°æ¨¡å‹

**Draft ç”Ÿæˆ**:
- ä¸€æ¬¡æ€§ç”Ÿæˆ K ä¸ªæ¨ç†æ­¥éª¤
- å¿«é€Ÿä½†å¯èƒ½ä¸å‡†ç¡®
- ä½œä¸º"å€™é€‰æ¨ç†é“¾"

#### Verify ç­–ç•¥

**Verify æœºåˆ¶**:
```
å¤§æ¨¡å‹æ£€æŸ¥:
  1. é€»è¾‘è¿è´¯æ€§
  2. æ•°å­¦æ­£ç¡®æ€§
  3. ä¸é—®é¢˜ç›¸å…³æ€§
```

**æ¥å—æ¡ä»¶**:
- æ‰€æœ‰æ­¥éª¤éƒ½éªŒè¯é€šè¿‡
- æˆ–è€…éªŒè¯é€šè¿‡ç‡è¶…è¿‡é˜ˆå€¼

**æ‹’ç»å¤„ç†**:
- éƒ¨åˆ†æ‹’ç»ï¼šé‡æ–°ç”Ÿæˆå¤±è´¥çš„æ­¥éª¤
- å®Œå…¨æ‹’ç»ï¼šå¤§æ¨¡å‹ä»å¤´ç”Ÿæˆ

### é‡è¦å‘ç°

1. **æ˜¾è‘—åŠ é€Ÿ**
   - æ•°å­¦æ¨ç†ä»»åŠ¡ï¼š2-3x åŠ é€Ÿ
   - ä¿æŒæˆ–æå‡å‡†ç¡®ç‡
   - é™ä½è®¡ç®—æˆæœ¬

2. **Draft è´¨é‡çš„å½±å“**
   - Draft è¶Šå¥½ â†’ åŠ é€Ÿæ¯”è¶Šé«˜
   - ä½† draft ä¸éœ€è¦å®Œç¾
   - Verify æœºåˆ¶ä¿è¯æ­£ç¡®æ€§

3. **ä»»åŠ¡ç‰¹æ€§**
   - æ•°å­¦æ¨ç†ï¼šæ•ˆæœå¥½ï¼ˆæ­¥éª¤æ¸…æ™°ï¼‰
   - ä»£ç ç”Ÿæˆï¼šä¹Ÿé€‚ç”¨
   - å¼€æ”¾åŸŸé—®ç­”ï¼šæ•ˆæœå¾…éªŒè¯

4. **ä¸åŸºçº¿çš„å¯¹æ¯”**
   - vs æ ‡å‡† CoTï¼šå¿«å¾—å¤šï¼Œå‡†ç¡®ç‡ç›¸å½“
   - vs å…¶ä»–åŠ é€Ÿæ–¹æ³•ï¼šæ›´é€‚åˆå¤šæ­¥æ¨ç†
   - vs å°æ¨¡å‹ç›´æ¥ç”Ÿæˆï¼šå‡†ç¡®ç‡æ›´é«˜

---

## ğŸ’¡ ä¸ªäººæ€è€ƒ

### æœ‰å¯å‘çš„ç‚¹

1. **æŠ•æœºè§£ç çš„ä¼˜é›…æ‰©å±•**
   - ä»æ–‡æœ¬ç”Ÿæˆ â†’ å¤šæ­¥æ¨ç†
   - ä¿æŒäº† draft-verify çš„æ ¸å¿ƒæ€æƒ³
   - è¯æ˜äº†æ¡†æ¶çš„é€šç”¨æ€§

2. **å°æ¨¡å‹çš„ä»·å€¼**
   - å°æ¨¡å‹ä¸ä»…æ˜¯æ¨ç†å·¥å…·
   - è¿˜å¯ä»¥ä½œä¸º draft ç”Ÿæˆå™¨
   - å¤§å°æ¨¡å‹åä½œçš„æ–°æ¨¡å¼

3. **éªŒè¯çš„é‡è¦æ€§**
   - Draft å¯ä»¥å¿«ä½†ä¸å‡†ç¡®
   - Verify ä¿è¯æœ€ç»ˆæ­£ç¡®æ€§
   - è¿™åˆ†ç¦»äº†"é€Ÿåº¦"å’Œ"è´¨é‡"

4. **é¡ºåºä¾èµ–çš„å¤„ç†**
   - æ¨ç†æ­¥éª¤æœ‰ä¾èµ–å…³ç³»
   - SpecRC é€šè¿‡ verify å¤„ç†
   - ä¸ç ´åæ¨ç†çš„é€»è¾‘æ€§

### ç–‘é—®

1. **Verify çš„å¼€é”€**
   - å¤§æ¨¡å‹éªŒè¯ draft æœ¬èº«éœ€è¦æ—¶é—´
   - å¦‚æœ draft è´¨é‡å·®ï¼Œé¢‘ç¹æ‹’ç»ä¼šé™ä½æ•ˆç‡
   - æœ€ä½³çš„ draft-verify è´¨é‡å¹³è¡¡ï¼Ÿ

2. **éƒ¨åˆ†æ¥å—çš„ç­–ç•¥**
   - å¦‚æœæ­¥éª¤ 1,2 æ­£ç¡®ä½† 3 é”™è¯¯ï¼Ÿ
   - æ˜¯å¦å¯ä»¥æ¥å—å‰ä¸¤æ­¥ï¼Ÿ
   - å¦‚ä½•ä¼˜åŒ–éƒ¨åˆ†æ¥å—ï¼Ÿ

3. **ä¸ Multiplex Thinking çš„å…³ç³»**
   - Multiplex: è½¯æ¨ç†ï¼ˆå¤šè·¯å¾„åˆå¹¶ï¼‰
   - SpecRC: æŠ•æœºæ¨ç†ï¼ˆå°æ¨¡å‹ draftï¼‰
   - èƒ½å¦ç»“åˆï¼Ÿ

4. **é€‚ç”¨ä»»åŠ¡è¾¹ç•Œ**
   - ä»€ä¹ˆä»»åŠ¡æœ€é€‚åˆï¼Ÿ
   - ä»€ä¹ˆä»»åŠ¡ä¸é€‚åˆï¼Ÿ
   - å¦‚ä½•åˆ¤æ–­ï¼Ÿ

### ä¸å…¶ä»–æ–‡ç« çš„å…³è”

- **Fast-ThinkAct (AGENT_002)**:
  - éƒ½å…³æ³¨æ¨ç†åŠ é€Ÿ
  - Fast-ThinkAct: æ½œåœ¨ç©ºé—´æ¨ç†
  - SpecRC: æŠ•æœºè§£ç æ¨ç†
  - ä¸åŒåŠ é€Ÿç­–ç•¥

- **Multiplex Thinking (PAPER_005)**:
  - Multiplex: å•è·¯å¾„ç¼–ç å¤šè·¯å¾„
  - SpecRC: å°è·¯å¾„ draft + å¤§è·¯å¾„ verify
  - éƒ½åœ¨ä¼˜åŒ–æ¨ç†æ•ˆç‡

- **GLM4-MoE ä¼˜åŒ– (BLOG_001)**:
  - éƒ½å…³æ³¨æ¨ç†æ•ˆç‡ä¼˜åŒ–
  - GLM4: ç³»ç»Ÿçº§ä¼˜åŒ–
  - SpecRC: ç®—æ³•çº§ä¼˜åŒ–
  - å¯ä»¥ç»“åˆä½¿ç”¨

- **TATER (PAPER_001)**:
  - TATER: å›æ”¶æœç´¢ç»éªŒ
  - SpecRC: åŠ é€Ÿæ¨ç†ç”Ÿæˆ
  - éƒ½åœ¨ä¼˜åŒ–æ¨ç†è¿‡ç¨‹

---

## ğŸ“ å…³é”®æ‘˜å½•

> "We propose SpecRC, a speculative decoding framework for multi-step reasoning tasks."

> "The key idea is to use a small draft model to quickly generate reasoning steps, then verify with a large model."

> "SpecRC achieves 2-3x speedup on math reasoning tasks while maintaining or improving accuracy."

> "Draft-verify mechanism separates speed (draft) from quality (verify), enabling efficient reasoning."

---

## ğŸ”— ç›¸å…³èµ„æº

- **è®ºæ–‡**: https://arxiv.org/abs/2601.06966
- **PDF**: https://arxiv.org/pdf/2601.06966
- **ç›¸å…³è®ºæ–‡**:
  - Speculative Decoding (åŸå§‹æ–¹æ³•)
  - Chain-of-Thought Prompting
  - Multi-step Reasoning
- **æ•°æ®é›†**:
  - GSM8K
  - MATH
  - å…¶ä»–æ•°å­¦æ¨ç†åŸºå‡†

---

## ğŸ“Š è¡¥å……è¯´æ˜

**æŠ•æœºè§£ç çš„æ¼”è¿›**:

```
ä¼ ç»ŸæŠ•æœºè§£ç :
  æ–‡æœ¬ç”Ÿæˆ â†’ Draft å°æ¨¡å‹ â†’ Verify å¤§æ¨¡å‹ â†’ æ¥å—/æ‹’ç»
  åº”ç”¨: ä¸€èˆ¬æ–‡æœ¬ç”Ÿæˆ

SpecRC (è¿™ç¯‡è®ºæ–‡):
  æ¨ç†é“¾ â†’ Draft å°æ¨¡å‹ â†’ Verify å¤§æ¨¡å‹ â†’ æ¥å—/æ‹’ç»
  åº”ç”¨: å¤šæ­¥æ¨ç†ä»»åŠ¡
```

**Draft-Verify çš„å¹³è¡¡**:

| Draft è´¨é‡ | Verify æˆåŠŸç‡ | æ•ˆç‡ |
|-----------|--------------|------|
| å¤ªä½ | é¢‘ç¹æ‹’ç» | ä½ |
| å¤ªé«˜ | ä¸éœ€è¦å¤§æ¨¡å‹ | ä¸­ç­‰ |
| **æœ€ä½³** | **60-80%** | **é«˜** |

**åŠ é€ŸåŸç†**:

```
æ ‡å‡† CoT:
  æ¯æ­¥éƒ½ç”¨å¤§æ¨¡å‹ç”Ÿæˆ
  æ—¶é—´ = N Ã— T_large

SpecRC:
  Draft: å°æ¨¡å‹ç”Ÿæˆ K æ­¥
  Verify: å¤§æ¨¡å‹éªŒè¯
  æ—¶é—´ â‰ˆ K Ã— T_small + T_verify

  å¦‚æœ T_small << T_large ä¸”éªŒè¯å¿«:
    åŠ é€Ÿ â‰ˆ (N Ã— T_large) / (K Ã— T_small + T_verify)
```

**å®è·µå»ºè®®**:

1. **Draft æ¨¡å‹é€‰æ‹©**
   - ä¸ºä¸»æ¨¡å‹çš„ 1/10 - 1/100 å¤§å°
   - åœ¨ç›¸åŒä»»åŠ¡ä¸Šè®­ç»ƒ
   - æˆ–ä»ä¸»æ¨¡å‹è’¸é¦å¾—åˆ°

2. **ä»»åŠ¡é€‰æ‹©**
   - å¤šæ­¥æ¨ç†ä»»åŠ¡æ•ˆæœæœ€å¥½
   - æ­¥éª¤æ¸…æ™°çš„æ¨ç†ï¼ˆæ•°å­¦ã€ä»£ç ï¼‰
   - é¿å…é«˜åº¦æ­§ä¹‰çš„ä»»åŠ¡

3. **Verify ç­–ç•¥**
   - å¯ä»¥å¹¶è¡ŒéªŒè¯å¤šä¸ªæ­¥éª¤
   - ä½¿ç”¨è¯„åˆ†æœºåˆ¶è€ŒéäºŒå…ƒåˆ¤æ–­
   - éƒ¨åˆ†æ¥å—ä»¥æé«˜æ•ˆç‡

**ä¸å½“å‰è¶‹åŠ¿çš„å…³è”**:

**æ¨ç†åŠ é€Ÿçš„å››æ¡è·¯å¾„**:

1. **å‹ç¼©è¡¨ç¤º**:
   - CtrlCoT (PAPER_003): å‹ç¼© CoT é•¿åº¦
   - Fast-ThinkAct (AGENT_002): å‹ç¼©åˆ°æ½œåœ¨ç©ºé—´

2. **æ¶ˆé™¤å†—ä½™**:
   - DeepPrune (PAPER_004): æ¶ˆé™¤å¹¶è¡Œè½¨è¿¹å†—ä½™
   - TATER (PAPER_001): æ¶ˆé™¤æœç´¢å†—ä½™

3. **è½¯æ¨ç†**:
   - Multiplex (PAPER_005): å¤šè·¯å¾„åˆå¹¶
   - **SpecRC**: å°æ¨¡å‹ draft

4. **ä¼˜åŒ–æ‰§è¡Œ**:
   - GLM4-MoE (BLOG_001): ç³»ç»Ÿçº§ä¼˜åŒ–

**æ ¸å¿ƒæ´å¯Ÿ**:

SpecRC çš„æ ¸å¿ƒæ´å¯Ÿæ˜¯ï¼š**æ¨ç†çš„ç”Ÿæˆå’ŒéªŒè¯å¯ä»¥åˆ†ç¦»**ã€‚

è¿™å°±åƒï¼š
- è€ƒè¯•ç­”é¢˜ï¼ˆæ ‡å‡† CoTï¼‰: æ¯é“é¢˜éƒ½è®¤çœŸæ€è€ƒ
- è‰ç¨¿ + æ£€æŸ¥ï¼ˆSpecRCï¼‰: å¿«é€Ÿå†™ç­”æ¡ˆï¼Œç„¶åæ£€æŸ¥

è™½ç„¶"è‰ç¨¿ + æ£€æŸ¥"çœ‹èµ·æ¥å¤šåšäº†ä¸€æ­¥ï¼Œä½†å¦‚æœï¼š
- è‰ç¨¿å†™å¾—å¿«ï¼ˆå°æ¨¡å‹ï¼‰
- æ£€æŸ¥å¾ˆå¿«ï¼ˆå¤§éƒ¨åˆ†æ—¶å€™å¯¹ï¼‰
- æ€»æ—¶é—´åè€Œæ›´çŸ­

è¿™æ˜¯ä¸€ç§**"å¤§èƒ†å‡è®¾ï¼Œå°å¿ƒéªŒè¯"**çš„ç­–ç•¥ï¼Œä¸ç§‘å­¦ç ”ç©¶çš„æ€ç»´æ¨¡å¼ä¸€è‡´ï¼

**å±€é™æ€§**:

1. éœ€è¦è®­ç»ƒ draft æ¨¡å‹
2. å¯¹éå¸¸å¤æ‚çš„æ¨ç†å¯èƒ½æ•ˆæœæœ‰é™
3. Verify çš„å¼€é”€ä¸èƒ½å¿½ç•¥
4. éœ€è¦ä»”ç»†è°ƒå‚ä»¥è·å¾—æœ€ä½³åŠ é€Ÿæ¯”

**æœªæ¥æ–¹å‘**:

1. ç ”ç©¶è‡ªé€‚åº” draft ç­–ç•¥
2. æ¢ç´¢æ›´å¥½çš„ verify æœºåˆ¶
3. æ‰©å±•åˆ°æ›´å¤šæ¨ç†ç±»å‹
4. ä¸å…¶ä»–åŠ é€Ÿæ–¹æ³•ç»“åˆï¼ˆå¦‚ Multiplexï¼‰
5. ç ”ç©¶ draft-verify çš„ç†è®ºç•Œé™
